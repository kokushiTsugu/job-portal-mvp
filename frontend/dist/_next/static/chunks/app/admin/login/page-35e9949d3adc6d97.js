(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[116],{3259:(e,s,a)=>{Promise.resolve().then(a.bind(a,5630))},5630:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>l});var t=a(5155),n=a(2115),r=a(6046);function l(){let[e,s]=(0,n.useState)(""),[a,l]=(0,n.useState)(""),[u,o]=(0,n.useState)(""),i=(0,r.useRouter)(),d=async s=>{s.preventDefault(),o("");try{let s=await fetch("http://localhost:8080/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:a})}),t=await s.json();if(!s.ok)throw Error(t.message||"管理者ログインに失敗");localStorage.setItem("adminToken",t.token||""),localStorage.setItem("adminName",t.name||"管理者"),"admin"===t.role?i.push("/admin/dashboard"):i.push("/mypage")}catch(e){o("エラー: "+e.message)}};return(0,t.jsx)("div",{className:"min-h-screen p-6 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"max-w-md w-full bg-white p-6 rounded shadow",children:[(0,t.jsx)("h1",{className:"text-xl font-bold mb-4",children:"管理者ログイン"}),u&&(0,t.jsx)("p",{className:"text-red-500 mb-3",children:u}),(0,t.jsxs)("form",{onSubmit:d,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block mb-1 font-semibold",children:"メールアドレス"}),(0,t.jsx)("input",{type:"email",className:"w-full border p-2",value:e,onChange:e=>s(e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block mb-1 font-semibold",children:"パスワード"}),(0,t.jsx)("input",{type:"password",className:"w-full border p-2",value:a,onChange:e=>l(e.target.value),required:!0})]}),(0,t.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded",children:"ログイン"})]})]})})}},6046:(e,s,a)=>{"use strict";var t=a(6658);a.o(t,"useParams")&&a.d(s,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}})}},e=>{var s=s=>e(e.s=s);e.O(0,[441,517,358],()=>s(3259)),_N_E=e.O()}]);