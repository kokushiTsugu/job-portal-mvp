(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{5156:(e,t,s)=>{Promise.resolve().then(s.bind(s,4459))},4459:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(5155),l=s(2115),o=s(6046);function n(){let e=(0,o.useRouter)(),[t,s]=(0,l.useState)({jobsCount:0,applicationsCount:0,scoutReplyRate:"0%",totalUsers:0,activeUsers:0}),[n,r]=(0,l.useState)("");return(0,l.useEffect)(()=>{let t=localStorage.getItem("adminToken");if(!t){e.replace("/admin/login");return}fetch("http://localhost:8080/admin/stats",{headers:{Authorization:"Bearer ".concat(t)}}).then(e=>{if(!e.ok)throw Error("Stats API error");return e.json()}).then(e=>{var t,a,l,o,n;s({jobsCount:null!==(t=e.jobsCount)&&void 0!==t?t:0,applicationsCount:null!==(a=e.applicationsCount)&&void 0!==a?a:0,scoutReplyRate:null!==(l=e.scoutReplyRate)&&void 0!==l?l:"0%",totalUsers:null!==(o=e.totalUsers)&&void 0!==o?o:0,activeUsers:null!==(n=e.activeUsers)&&void 0!==n?n:0})}).catch(e=>{console.error("統計データの取得に失敗:",e),r("統計データの取得に失敗: "+e.message)})},[e]),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"管理ダッシュボード"}),n&&(0,a.jsx)("p",{className:"text-red-600 font-semibold",children:n}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"公開中の求人"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-indigo-600 mt-2",children:t.jobsCount})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"応募総数"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-indigo-600 mt-2",children:t.applicationsCount})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"スカウト返信率"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-indigo-600 mt-2",children:t.scoutReplyRate})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"登録ユーザー数"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-indigo-600 mt-2",children:t.totalUsers})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"アクティブユーザー"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-indigo-600 mt-2",children:t.activeUsers})]})]})]})}},6046:(e,t,s)=>{"use strict";var a=s(6658);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(5156)),_N_E=e.O()}]);