(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{1445:(e,t,s)=>{Promise.resolve().then(s.bind(s,2386))},2386:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(5155),a=s(2115),l=s(6046),o=s(7396),n=s(2523);function i(){let[e,t]=(0,a.useState)({email:"",password:""}),[s,i]=(0,a.useState)(""),u=(0,l.useRouter)(),d=e=>{let{name:s,value:r}=e.target;t(e=>({...e,[s]:r}))},c=async t=>{t.preventDefault(),i("");try{let t=await fetch((0,n.e)("login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})}),s=await t.json();if(console.log("Login response:",s),!t.ok)throw Error(s.message||"Failed to login");localStorage.setItem("token",s.token),localStorage.setItem("userName",s.name),localStorage.setItem("userEmail",s.email),localStorage.setItem("userResumeUrl",s.resumeUrl),i("ログインに成功しました！"),u.push("/"),window.location.href="/"}catch(e){i("ログイン失敗: ".concat(e.message))}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-r from-pink-300 via-purple-300 to-indigo-300 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 w-full max-w-md",children:[(0,r.jsx)("h2",{className:"text-3xl font-extrabold text-center mb-6 text-gray-800",children:"ログイン"}),(0,r.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block font-semibold text-gray-700 mb-2",children:"メールアドレス"}),(0,r.jsx)("input",{type:"email",name:"email",id:"email",className:"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-purple-500",placeholder:"yourname@example.com",value:e.email,onChange:d,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block font-semibold text-gray-700 mb-2",children:"パスワード"}),(0,r.jsx)("input",{type:"password",name:"password",id:"password",className:"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-purple-500",placeholder:"********",value:e.password,onChange:d,required:!0})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 rounded transition duration-200",children:"ログイン"})]}),s&&(0,r.jsx)("p",{className:"text-center mt-4 font-semibold text-purple-800",children:s}),(0,r.jsx)("div",{className:"text-center mt-6",children:(0,r.jsx)(o.default,{href:"/register",className:"text-purple-700 hover:underline font-medium",children:"アカウントがない場合は登録はこちら"})})]})})}},2523:(e,t,s)=>{"use strict";s.d(t,{e:()=>a});let r=s(2818).env.NEXT_PUBLIC_API_URL||"http://localhost:8080",a=e=>{let t=r.endsWith("/")?r.slice(0,-1):r,s=e.startsWith("/")?e.slice(1):e;return"".concat(t,"/").concat(s)}},7396:(e,t,s)=>{"use strict";s.d(t,{default:()=>a.a});var r=s(4839),a=s.n(r)},6046:(e,t,s)=>{"use strict";var r=s(6658);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})}},e=>{var t=t=>e(e.s=t);e.O(0,[839,441,517,358],()=>t(1445)),_N_E=e.O()}]);